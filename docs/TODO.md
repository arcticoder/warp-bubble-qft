# TODO ‚Äî Publishable-Grade Verification & Extensions (warp-bubble-qft)

This file is a working roadmap to turn the current research-stage framework into a reproducible, publishable-quality result (positive, negative/null, or methods/benchmark paper).

Guiding principle: **treat all headline claims as hypotheses** until reproduced under controlled sweeps with archived configs, versions, and deterministic outputs.

---

## Status (as of 2026-01-21)

**üéØ Methods Paper: READY** ‚Äî All high-priority verification tasks complete. Framework positioned for arXiv submission (gr-qc/hep-th) as computational methods/verification paper.

**Key findings**:
- Energy discrepancy **resolved**: Pipeline ~30√ó (feasibility ratio) ‚â† cross-repo 1083√ó (computational accounting) ‚Äî different quantities
- Factor breakdown: VdB-Nat√°rio 10√ó + backreaction 1.29√ó + enhancements 16.6√ó ‚âà **~340√ó total** (~20√ó verified, rest heuristic)
- **‚ö†Ô∏è Known issue**: Iterative backreaction produces NaN with high Q/squeezing (solver divergence)

**Completed deliverables**:
- `docs/VERIFICATION_SUMMARY.md` ‚Äî comprehensive 12-section analysis
- `docs/LITERATURE_MAPPING.md` ‚Äî formula mappings, benchmarking table, limitations
- `docs/STATUS_UPDATE.md` ‚Äî quick-start guide
- `results/full_verification/` ‚Äî complete batch session (11 files, 552 KB, all tasks passed)
- `batch_analysis.py --session-name <name>` ‚Äî reproducible orchestration

**Next phase**: Fix remaining low-priority issues (divergences, curved QI, 3+1D extensions, derivations) ‚Üí draft manuscript ‚Üí arXiv preprint.

---

## 0) Reproducibility Baseline (completed; keep current)

- [x] Record runtime environment (see `results/REPRODUCIBILITY.md`)
- [x] Establish a single ‚Äúgolden run‚Äù command + frozen config
- [x] Define output artifacts to archive (logs/JSON/plots are in `results/`)

Deliverable: a short reproducibility note (what to run, what you get, hashes).

---

## 1) Reproduce & Verify Core Claims (focus here next)

### 1.1 Resolve the ‚Äú1083√ó / 99.9%‚Äù energy optimization discrepancy (PRIORITY)

Observed so far:
- The *pipeline* energy requirement reduction reproduced is ~30√ó (e.g., quick-check ~29√ó; scans show all points feasible).
- The **1083√ó / 3.80 GJ ‚Üí 3.5 MJ** headline is generated by cross-repository computational accounting (`ENERGY_OPTIMIZATION_REPORT.json`, `src/energy/cross_repository_energy_integration.py`).

This task is to **reconcile definitions** and either:
(A) reproduce 1083√ó under a clear definition within the pipeline, or
(B) update documentation to clearly separate ‚Äúcomputational energy optimization‚Äù from ‚Äúwarp bubble feasibility ratio‚Äù.

- [x] Define the quantities precisely and in writing
  - Pipeline: "base energy requirement" = dimensionless feasibility ratio (target <= 1) after VdB-Nat√°rio + LQG
  - Cross-repo report: "baseline_energy_GJ" = computational energy accounting (J/GJ/MJ) from cross-repository integration
  - Documented in `discrepancy_analysis.py` output under "interpretation" key
- [x] Add a discrepancy-analysis run that logs intermediate factors and saves a JSON artifact
  - Script: `discrepancy_analysis.py --save-results`
  - Logs: pipeline quick-check result (base/final energy ratio) + ENERGY_OPTIMIZATION_REPORT.json contents
  - Output: `results/discrepancy_*.json` with explicit note that these are not the same physical quantity
- [x] Re-run pipeline at multiple baselines to isolate missing factors
  - Script: `baseline_comparison.py --save-results`
  - Toggle/compare: with vs without VdB-Nat√°rio baseline
  - Toggle/compare: quick backreaction vs full backreaction solve
  - Toggle/compare: conservative enhancement parameters (low Q, low squeezing, N=1)
  - Output: `results/baseline_comparison_*.json` with table of reduction factors

Publishable angle:
- **Verification paper** if the results reproduce.
- **Null hypothesis / parameter fragility** if they do not reproduce across small perturbations.

### 1.2 Verify QI-violation computation (Ford‚ÄìRoman-style checks)

- [x] Provide a standalone verification script (`verify_qi_energy_density.py`)
- [x] Re-run QI checks with fixed seeds and save plots (`results/qi_scan.png`)
- [x] Tighten the Ford‚ÄìRoman comparison against literature formulas
  - Document sampling function and coefficient choices
  - Add explicit mapping between code quantities and literature symbols
  - Deliverable: `docs/LITERATURE_MAPPING.md` with formula mappings, assumptions, and limitations

Deliverable: a minimal script that recomputes QI integrals *and* documents the sampling function and bound used.

---

## 2) Sensitivity Analysis & Parameter Robustness (deprioritized; completed baseline)

Goal: determine whether feasibility/optimization is robust across realistic ranges and noise.

- [x] Run parameter scan and archive logs (`results/param_scan_*.log`)
- [x] Run Monte Carlo and sensitivity scans and archive outputs (`results/sensitivity_analysis_*.json` + plots)
- [ ] Extend sensitivity only as needed to support Task 1.1 (e.g., broaden ranges to find failure boundaries)

Publishable angle:
- ‚ÄúRobustness (or fragility) of LQG-enhanced warp-bubble optimizations.‚Äù

---

## 3) Backreaction: Linear vs Nonlinear / Iterative Coupling

The repo mentions linear backreaction (~15% reduction). Upgrade this into a testable, convergent iterative loop.

- [x] Locate backreaction implementation (`src/warp_qft/backreaction_solver.py`)
- [x] Implement a nonlinear/iterative coupling mode
  - Added `apply_backreaction_correction_iterative(...)` in `src/warp_qft/backreaction_solver.py`
  - Outer loop scales stress-energy by current energy estimate; convergence on relative energy delta
  - Standalone runner: `backreaction_iterative_experiment.py --save-results --save-plots`
  - Example artifacts: `results/backreaction_iterative_*.json` and `.png`
- [x] Integrate the iterative mode into the pipeline (toggle via config/flag)
  - Config flags: `backreaction_iterative`, `backreaction_outer_iterations`, `backreaction_relative_energy_tolerance`
  - CLI flags: `--backreaction-iterative`, `--backreaction-outer-iters`, `--backreaction-rel-tol`

Publishable angle:
- **Null result** if nonlinear/iterative coupling removes feasibility.
- **Methods** if a stable convergent solver is demonstrated.

---

## 4) Toward 3+1D (Scoped and Honest)

A full 3+1D evolution is likely out of scope short-term; do the smallest honest step that adds value.

- [x] Add `toy_evolution.py` (toy 1D/2D time evolution)
  - Simple reaction-diffusion PDE driven by negative energy density profile
  - Saves plots and JSON to `results/` with timestamps (`--save-results`, `--save-plots`)
  - Explicit non-claims documented in JSON output: no constrained 3+1 GR, no gauge conditions
  - Example artifacts: `results/toy_evolution_*.json` and `.png`

Publishable angle:
- ‚ÄúFailure modes / instability signatures under time evolution.‚Äù

---

## 5) Quantum-Optics Analogies (Squeezing) & Causality Checks

- [x] Verify squeezing model (currently effective-factor based)
- [x] Add coarse causality/CTC screening
  - Added `src/warp_qft/causality.py` with `screen_spherical_metric(...)` helper
  - Checks: signature violations (g_tt >= 0, g_rr <= 0), nonfinite values, null-geodesic slopes
  - Standalone runner: `causality_screen.py <input.json> --save-results`
  - Integrated into `toy_evolution.py` output; example: `results/causality_screen_*.json`
  - (QuTiP-based squeezing micro-model deferred; effective model sufficient for current scope)

Publishable angle:
- ‚ÄúCausality constraints in polymer-enhanced warp metrics‚Äù (likely null/constraints-heavy).

---

## 6) Benchmark Against Literature / Known Bounds

- [x] Add a comparison table in docs
  - what bounds are being used
  - what integral/averaging procedure is applied
  - parameter mapping between code and literature
  - Deliverable: `docs/LITERATURE_MAPPING.md` includes benchmarking table (Section 4)
- [x] Ensure the paper-style narrative acknowledges known objections and limitations
  - Deliverable: `docs/LITERATURE_MAPPING.md` Section 5 documents known objections
  - Includes recommended interpretation guidelines (Section 6)

Deliverable: a small ‚ÄúMethods & limitations‚Äù doc section suitable for arXiv.

---

---

## 7) Low-Priority Extensions (Post-Methods-Paper)

These tasks may yield null results (e.g., divergences limit feasibility) or novelty (e.g., curved QI violations). Address to strengthen physics paper prospects.

### 7.1 Fix NaN Divergences in Iterative Backreaction ‚úÖ **COMPLETE**

**Issue**: `baseline_comparison.py` config 6 (iterative + Q=1e6 + squeezing=15dB) produces NaN due to solver instability in strong-field regime.

**Resolution**: Added damping/regularization to prevent runaway growth:
- Damping factor Œ≤ = 0.7 blends solved metrics with previous iteration
- L2 regularization Œª = 1e-3 bounds metric norm growth
- NaN/inf detection with early exit and diagnostic flag
- Adaptive tolerance scaling for improved convergence

**Results**:
- Config 6 now converges to 0.013 (85√ó reduction, was NaN)
- Validated across energy scales 1.0, 100.0, 10000.0 - no divergence
- Polish batch session: all 7 tasks passed
- **Commit**: ea60859 "feat: Stabilize iterative backreaction..."

**Deliverable**: ‚úÖ `docs/STABILIZATION_NOTE.md`, updated VERIFICATION_SUMMARY.md ¬ß2, results in `results/polish/`

---

### 7.2 Implement Curved-Spacetime QI Bounds ‚úÖ **COMPLETE**

**Goal**: Extend Ford-Roman QI checks from flat to curved metrics (Alcubierre background) for physical realism.

**Implementation**:
- ‚úÖ Added `curved_qi_verification.py` script
- ‚úÖ Computes metric-weighted QI integral using toy Alcubierre g_ŒºŒΩ
- ‚úÖ Compares flat-space vs curved-space bounds
- ‚úÖ Integrated into `batch_analysis.py`

**Math**: In curved spacetime, QI becomes:
$$\int \rho(\tau) g_{\mu\nu} d\tau^\mu d\tau^\nu \geq -C / R^2$$
where C is constant, R is curvature radius.

**Results** (Œº=0.3, R=2.3, Œît=1.0):
- Flat-space integral: -0.562, bound: -0.0063 ‚Üí **violates** (margin: -0.556)
- Curved-space integral: -0.788, bound: -1.010 ‚Üí **no violation** (margin: +0.222)
- Metric enhancement factor: 1.40√ó (curved integral more negative)
- **Interpretation**: Curved-space bound is more restrictive; violation disappears when metric effects included

**Deliverable**: ‚úÖ `curved_qi_verification.py`, example results in `results/curved_qi_test/`, integrated into batch workflow

---

### 7.3 Extend to 3+1D Stability Analysis

**Goal**: Build on `toy_evolution.py` (1D) to quasi-3D using finite differences; check long-term stability via Lyapunov exponent.

**Math**: Evolve ADM equations approximately with polymer corrections:
$$\partial_t g_{ij} = -2\alpha K_{ij} + \mathcal{L}_\beta g_{ij}, \quad K_{ij} \to \sin(\bar{\mu} K_{ij}) / \bar{\mu}$$
Stability check: Lyapunov $L = \max |\partial_t \log ||g|||$; if L > 0 long-term, **unstable** (null result).

**Implementation**:
- [ ] Create `full_3d_evolution.py` extending toy_evolution to 3D grid
- [ ] Implement simplified ADM time-stepping with polymer K_ij
- [ ] Compute Lyapunov exponent from metric norm evolution
- [ ] Generate 3D slice visualizations at key timesteps
- [ ] Optional: GPU acceleration for larger grids

**Deliverable**: `results/full_evolution_*.json` with Lyapunov data; plots showing metric component evolution.

---

### 7.4 Rigorous Cavity/Squeezing Derivations

**Goal**: Derive enhancement factors from first principles (QFT in curved spacetime) to replace heuristic models.

**Math**:
- Cavity: Energy $E \propto \omega^2 / Q$ from mode structure
- Squeezing: Variance $\Delta X^2 = e^{-2r}/4$, factor $F = e^r$ from $\hat{S}(r) = \exp[r(a^2 - a^{\dagger 2})/2]$
- Curved-space modification: Include metric g_ŒºŒΩ in mode functions

**Implementation**:
- [ ] Add symbolic derivation in `derive_enhancements.py` using SymPy
- [ ] Numerical evaluation at standard parameters (Q=1e6, r=ln(10))
- [ ] Compare derived factors vs heuristic factors in enhancement_pathway.py
- [ ] Update LITERATURE_MAPPING.md with full derivations

**Deliverable**: `results/derivation_*.json` with symbolic expressions; updated docs.

---

### 7.5 Manuscript Preparation

- [ ] Draft manuscript using VERIFICATION_SUMMARY.md as outline
- [ ] Suggested title: "Verification of LQG Warp Bubble Optimizations: Computational Insights and Limitations"
- [ ] Sections: Intro (warp energy problem + LQG), Methods (pipeline + mappings), Results (baseline comparison + sensitivity), Discussion (limitations + null findings), Conclusion
- [ ] Run final `batch_analysis.py --session-name preprint` for publication artifacts
- [ ] Prepare for arXiv submission (gr-qc primary, hep-th secondary)

---

## Working Notes (keep updated)

**Recommended workflow**:
1. Fix divergences (Task 7.1) ‚Äî if successful, strengthens methods; if null, important negative result
2. Add curved QI + 3+1D stability (Tasks 7.2-7.3) ‚Äî explore null/novelty boundaries
3. Polish derivations (Task 7.4) ‚Äî upgrade from heuristic to rigorous
4. Draft manuscript (Task 7.5) ‚Äî target arXiv submission within 2-4 weeks

**Quick commands**:
```bash
# Verify current state
python batch_analysis.py --session-name polish --skip-slow

# Individual fixes/extensions
python backreaction_iterative_experiment.py --save-results --save-plots  # Test stabilization
python curved_qi_verification.py --save-results --save-plots              # After implementing
python full_3d_evolution.py --save-results --save-plots                   # After implementing

# Pipeline integration
python run_enhanced_lqg_pipeline.py --quick-check --backreaction-iterative
```

**Environment**: Run in same venv as `results/REPRODUCIBILITY.md` (Python 3.12.3, requirements.txt).

